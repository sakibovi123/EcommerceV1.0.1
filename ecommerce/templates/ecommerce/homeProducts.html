{% load static %}

<script src="{% static 'js/ecommerce/quickView.js' %}" defer></script>

{% comment %}Quick view section starts{% endcomment %}
<section id="quick__viewOverlay" class="w-full h-screen"></section>

<section class="quick__viewModal hidden fixed top-0 left-0 w-full h-screen z-20">
    <section class="bg-white quick__viewModalCard">
        <div id="close__quickModal" class="cursor-pointer">
            <span class="iconify text-xl text-slate-600 hover:text-rose-400" data-icon="ep:circle-close-filled"></span>
        </div>
        <div class="flex gap-x-2">
            <section class="w-1/2 flex-1 quick__viewImageSection">
                <img class="w-full h-full object-cover" src="{% static 'testimg/product.jpg' %}" alt="">
            </section>

            <section class="px-3 py-4 flex-1 overflow-y-auto quick__viewModalCardContent">
                <div class="flex flex-wrap items-center gap-4">
                    <p class="line-through text-slate-600">$150</p>
                    <p class="text-2xl text-sky-600 font-bold">$100</p>
                </div>

                <div class="py-3">
                    <p class="text-slate-600 text-sm">Assumenda qui at vel est rem qui. Id facilis aliquam velit ut. Quis aut suscipit fugiat officiis alias sint. Aut velit animi expedita deserunt voluptate soluta quasi molestiae.
                </div>

                <div>
                    <h5 class="border-b border-gray-400 pb-2 font-bold mb-3">Colors</h5>

                    <form class="flex flex-wrap gap-2 items-center">
                        <button class="w-6 h-6 border border-gray-400 hover:shadow-md" style="background-color: red;"></button>
                        <button class="w-6 h-6 border border-gray-400 hover:shadow-md" style="background-color: black;"></button>
                        <button class="w-6 h-6 border border-gray-400 hover:shadow-md" style="background-color: blue;"></button>
                        <button class="w-6 h-6 border border-gray-400 hover:shadow-md" style="background-color: yellow;"></button>
                        <button class="w-6 h-6 border border-gray-400 hover:shadow-md" style="background-color: purple;"></button>
                    </form>
                </div>

                <div class="mt-3">
                    <h5 class="border-b border-gray-400 pb-2 font-bold mb-3">Size</h5>

                    <form class="flex flex-wrap gap-2 items-center">
                        <button type="submit" class="border border-gray-400 px-2 py-1 text-sm hover:shadow-md">Extra Large</button>
                        <button type="submit" class="border border-gray-400 px-2 py-1 text-sm hover:shadow-md">Large</button>
                        <button type="submit" class="border border-gray-400 px-2 py-1 text-sm hover:shadow-md">Medium</button>
                        <button type="submit" class="border border-gray-400 px-2 py-1 text-sm hover:shadow-md">Small</button>
                        <button type="submit" class="border border-gray-400 px-2 py-1 text-sm hover:shadow-md">Extra Small</button>
                    </form>
                </div>

                <div class="py-4">
                    <form action="" class="flex flex-wrap items-center justify-between gap-2 quick__modalFormSection">
                        <input type="number" class="border border-gray-400 px-3 py-2 w-40 outline-none quick__productQty" value="1" min="1">
                        <button class="bg-rose-500 flex-1 hover:shadow-lg px-4 py-2 text-slate-200 flex items-center gap-x-1"><span class="iconify" data-icon="ant-design:shopping-cart-outlined"></span> Add to cart</button>
                    </form>
                </div>

                <div class="py-4">
                    <form action="">
                        <button class="flex items-center gap-x-1 text-slate-600 hover:text-rose-400 transition-color duration-300 ease-in-out">
                            <span
                                class="iconify"
                                data-icon="cil:heart"
                            ></span> Add to wishlist
                        </button>
                    </form>
                </div>

                <div class="text-sm border-t border-gray-400 pt-4">
                    <p><span class="font-semibold text-slate-600">SKU:</span> enormous-wooden-gloves-11568216</p>
                    <p><span class="font-semibold text-slate-600">Categories:</span> Pillars, Tea Lights</p>
                    <p><span class="font-semibold text-slate-600">Tags:</span> Gift Sets, Scent</p>
                </div>
            </section>
        </div>
    </section>
</section>
{% comment %}Quick view section ends{% endcomment %}

<section>
    <div class="flex items-center flex-wrap justify-center gap-4 px-5 text-3xl text-slate-600 font-bold home__productTabSection">
        <button class="new__arrivalTab active__homeProductTab">
            New Arrivals
        </button>
        <button class="sale__itemTab">
            Sale Items
        </button>
        <button class="best__sellerTab">
            Best Sellers
        </button>
    </div>

    <div class="mt-12 px-5">
        <div class="new__arrivalProducts active__tabProducts hidden flex-wrap items-center justify-center gap-4">
            {% comment %}New Arrival product section starts{% endcomment %}
            {% if new_arrival_prods %}
            {% for n in new_arrival_prods %}
            <section class="w-72 product__card relative p-5 pb-3 hover:shadow-lg hover:bg-white transition-all duration-300 ease-in-out overflow-x-hidden"  id="home__product1">
                {% if n.sale_price %}
                <div class="product__sale absolute bg-sky-600 px-2 py-0.5">
                    <p class="text-slate-100 text-sm">Sale!</p>
                </div>
                {% else %}{% endif %}

                <div class="relative">
                    <a href="#">
                        <section class="tab__productImg w-full h-60">
                            <img class="w-full h-full object-cover" src="{{ n.product_image.url }}" alt="">
                        </section>
                    </a>

                    <section class="absolute product__options">
                        <div class="flex items-center justify-center gap-x-2">
                            <section onclick="quickView(1)" class="opacity-0 transition-all duration-300 ease-in-out quick__viewBtn">
                                <section class="relative bg-slate-800 px-3 py-2 hover:bg-rose-400 cursor-pointer product__option">
                                    <span class="iconify text-slate-200 text-2xl" data-icon="bi:eye"></span>
                                    <div class="absolute product__quickOptionContent product__quickOptionContent1 opacity-0 bg-slate-700 px-3 py-1 rounded-sm transition-opacity duration-300 ease-in-out">
                                        <p class="text-sm text-slate-200 whitespace-nowrap">Quick View</p>
                                        <i class="product__optionArrow product__optionArrow1 bg-slate-700 border-slate-700"></i>
                                    </div>
                                </section>
                            </section>
                            <section class="opacity-0 transition-all duration-300 ease-in-out">
                                <form action="{% url 'addToFavorite' %}" method="POST">
                                    {% csrf_token %}
                                    <input type="hidden" name="product_id" value="{{ n.id }}">
                                    <button class="relative bg-slate-800 px-3 py-2 hover:bg-rose-400 cursor-pointer product__option" type="submit">
                                        <span
                                            class="iconify text-slate-200 text-2xl"
                                            data-icon="cil:heart"
                                        ></span>
                                        <div class="absolute product__quickOptionContent product__quickOptionContent2 opacity-0 bg-slate-700 px-3 py-1 rounded-sm transition-opacity duration-300 ease-in-out">
                                            <p class="text-sm text-slate-200 whitespace-nowrap">Add to wishlist</p>
                                            <i class="product__optionArrow product__optionArrow2 bg-slate-700 border-slate-700"></i>
                                        </div>
                                    </button>
                                </form>
                            </section>
                        </div>
                    </section>
                </div>

                <div class="mt-4">
                    <a href="#">
                        <p class="font-bold">{{ n.product_name }}</p>
                    </a>
                    <section class="flex items-center tab__productContent mt-1">
                        <form action="{% url 'addToCart' %}" class="text-slate-700 hover:text-sky-600 cursor-pointer transition-all duration-300 ease-in-out" method="POST">
                            {% csrf_token %}
                            <input type="hidden" name="product_id" value="{{ n.id }}">
                            <button type="submit" class="flex items-center gap-x-1">
                                <span class="iconify" data-icon="ant-design:shopping-cart-outlined"></span>
                                Add to cart
                            </button>
                        </form>
                        <div class="flex items-center gap-x-2 transition-all duration-300 ease-in-out">
                            {% if n.sale_price %}
                            <p class=" text-slate-500 text-sm line-through">${{ n.regular_price }}</p>
                            <p class="text-slate-700">${{ n.sale_price }}</p>
                            {% else %}<p class="text-slate-700">${{ n.regular_price }}</p>{% endif %}
                        </div>
                    </section>
                </div>
            </section>
            {% endfor %}
            {% else %}No Products Added!{% endif %}


        </div>
        {% comment %}New Arrival product section ends{% endcomment %}

        {% comment %}Sale Items product section starts{% endcomment %}
        <div class="sale__itemsProducts hidden flex-wrap items-center justify-center gap-4">
            {% comment %}New Arrival product section starts{% endcomment %}
            {% if in_sale_prods %}
            {% for s in in_sale_prods %}
            <section class="w-72 product__card relative p-5 pb-3 hover:shadow-lg hover:bg-white transition-all duration-300 ease-in-out overflow-x-hidden"  id="home__product1">
                {% if s.sale_price %}
                <div class="product__sale absolute bg-sky-600 px-2 py-0.5">
                    <p class="text-slate-100 text-sm">Sale!</p>
                </div>
                {% else %}{% endif %}

                <div class="relative">
                    <a href="#">
                        <section class="tab__productImg w-full h-60">
                            <img class="w-full h-full object-cover" src="{{ s.product_image.url }}" alt="">
                        </section>
                    </a>

                    <section class="absolute product__options">
                        <div class="flex items-center justify-center gap-x-2">
                            <section onclick="quickView(1)" class="opacity-0 transition-all duration-300 ease-in-out quick__viewBtn">
                                <section class="relative bg-slate-800 px-3 py-2 hover:bg-rose-400 cursor-pointer product__option">
                                    <span class="iconify text-slate-200 text-2xl" data-icon="bi:eye"></span>
                                    <div class="absolute product__quickOptionContent product__quickOptionContent1 opacity-0 bg-slate-700 px-3 py-1 rounded-sm transition-opacity duration-300 ease-in-out">
                                        <p class="text-sm text-slate-200 whitespace-nowrap">Quick View</p>
                                        <i class="product__optionArrow product__optionArrow1 bg-slate-700 border-slate-700"></i>
                                    </div>
                                </section>
                            </section>
                            <section class="opacity-0 transition-all duration-300 ease-in-out">
                                <form action="{% url 'addToFavorite' %}" method="POST">
                                    {% csrf_token %}
                                    <input type="hidden" name="product_id" value="{{ s.id }}">
                                    <button class="relative bg-slate-800 px-3 py-2 hover:bg-rose-400 cursor-pointer product__option" type="submit">
                                        <span
                                            class="iconify text-slate-200 text-2xl"
                                            data-icon="cil:heart"
                                        ></span>
                                        <div class="absolute product__quickOptionContent product__quickOptionContent2 opacity-0 bg-slate-700 px-3 py-1 rounded-sm transition-opacity duration-300 ease-in-out">
                                            <p class="text-sm text-slate-200 whitespace-nowrap">Add to wishlist</p>
                                            <i class="product__optionArrow product__optionArrow2 bg-slate-700 border-slate-700"></i>
                                        </div>
                                    </button>
                                </form>
                            </section>
                        </div>
                    </section>
                </div>

                <div class="mt-4">
                    <a href="#">
                        <p class="font-bold">{{ s.product_name }}</p>
                    </a>
                    <section class="flex items-center tab__productContent mt-1">
                        <form action="{% url 'addToCart' %}" class="text-slate-700 hover:text-sky-600 cursor-pointer transition-all duration-300 ease-in-out" method="POST">
                            {% csrf_token %}
                            <input type="hidden" name="product_id" value="{{ s.id }}">
                            <button type="submit" class="flex items-center gap-x-1">
                                <span class="iconify" data-icon="ant-design:shopping-cart-outlined"></span>
                                Add to cart
                            </button>
                        </form>
                        <div class="flex items-center gap-x-2 transition-all duration-300 ease-in-out">
                            {% if s.sale_price %}
                            <p class=" text-slate-500 text-sm line-through">${{ s.regular_price }}</p>
                            <p class="text-slate-700">${{ s.sale_price }}</p>
                            {% else %}
                            <p class="text-slate-700">${{ s.regular_price }}</p>
                            {% endif %}
                        </div>
                    </section>
                </div>
            </section>
            {% endfor %}
            {% else %}No Products Found{% endif %}


        </div>
        {% comment %}Sale Items product section ends{% endcomment %}

        {% comment %}Best sellers product section starts{% endcomment %}
        <div class="best__sellingProducts hidden flex-wrap items-center justify-center gap-4">
            {% comment %}New Arrival product section starts{% endcomment %}
            {% if best_sellers_prods %}
            {% for s in best_sellers_prods %}
            <section class="w-72 product__card relative p-5 pb-3 hover:shadow-lg hover:bg-white transition-all duration-300 ease-in-out overflow-x-hidden"  id="home__product1">
                {% if s.sale_price %}
                <div class="product__sale absolute bg-sky-600 px-2 py-0.5">
                    <p class="text-slate-100 text-sm">Sale!</p>
                </div>
                {% else %}{% endif %}

                <div class="relative">
                    <a href="#">
                        <section class="tab__productImg w-full h-60">
                            <img class="w-full h-full object-cover" src="{{ s.product_image.url }}" alt="">
                        </section>
                    </a>

                    <section class="absolute product__options">
                        <div class="flex items-center justify-center gap-x-2">
                            <section onclick="quickView(1)" class="opacity-0 transition-all duration-300 ease-in-out quick__viewBtn">
                                <section class="relative bg-slate-800 px-3 py-2 hover:bg-rose-400 cursor-pointer product__option">
                                    <span class="iconify text-slate-200 text-2xl" data-icon="bi:eye"></span>
                                    <div class="absolute product__quickOptionContent product__quickOptionContent1 opacity-0 bg-slate-700 px-3 py-1 rounded-sm transition-opacity duration-300 ease-in-out">
                                        <p class="text-sm text-slate-200 whitespace-nowrap">Quick View</p>
                                        <i class="product__optionArrow product__optionArrow1 bg-slate-700 border-slate-700"></i>
                                    </div>
                                </section>
                            </section>
                            <section class="opacity-0 transition-all duration-300 ease-in-out">
                                <form action="{% url 'addToFavorite' %}" method="POST">
                                    {% csrf_token %}
                                    <input type="hidden" name="product_id" value="{{ s.id }}">
                                    <button class="relative bg-slate-800 px-3 py-2 hover:bg-rose-400 cursor-pointer product__option" type="submit">
                                        <span
                                            class="iconify text-slate-200 text-2xl"
                                            data-icon="cil:heart"
                                        ></span>
                                        <div class="absolute product__quickOptionContent product__quickOptionContent2 opacity-0 bg-slate-700 px-3 py-1 rounded-sm transition-opacity duration-300 ease-in-out">
                                            <p class="text-sm text-slate-200 whitespace-nowrap">Add to wishlist</p>
                                            <i class="product__optionArrow product__optionArrow2 bg-slate-700 border-slate-700"></i>
                                        </div>
                                    </button>
                                </form>
                            </section>
                        </div>
                    </section>
                </div>

                <div class="mt-4">
                    <a href="#">
                        <p class="font-bold">{{ s.product_name }}</p>
                    </a>
                    <section class="flex items-center tab__productContent mt-1">
                        <form action="{% url 'addToCart' %}" class="text-slate-700 hover:text-sky-600 cursor-pointer transition-all duration-300 ease-in-out" method="POST">
                            {% csrf_token %}
                            <input type="hidden" name="product_id" value="{{ s.id }}">
                            <button type="submit" class="flex items-center gap-x-1">
                                <span class="iconify" data-icon="ant-design:shopping-cart-outlined"></span>
                                Add to cart
                            </button>
                        </form>
                        <div class="flex items-center gap-x-2 transition-all duration-300 ease-in-out">
                            {% if s.sale_price %}
                            <p class=" text-slate-500 text-sm line-through">${{ s.regular_price }}</p>
                            <p class="text-slate-700">${{ s.sale_price }}</p>
                            {% else %}
                            <p class="text-slate-700">${{ s.regular_price }}</p>
                            {% endif %}
                        </div>
                    </section>
                </div>
            </section>
            {% endfor %}
            {% else %}No Products Found{% endif %}

        </div>
        {% comment %}Best sellers product section ends{% endcomment %}

    </div>
</section>